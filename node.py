""" 
API possibili dall'utente

Callback async:

- PAYMENT_DONE(invoice) -> check_

"""

async def payment_received(self, invoice):
    # Send new chunk of data
    pass
 

class LNS_Peer:
    
    def __init__(self):
        pass

    def create_video(self, dimensions, type):
        """Create a new video with the given args"""    
        return "./media/mandelbrot_01.mp4"
    
    def create_swarm(self, video_file):
        """ Generate a new swarm from the video file
        - hashfile 
        - generate_invoce
        - best_frame
        """
        pass
    
    
    def serve_swarm(self, swarm_id):
        
        while True:
            # Accept new incoming connection
            accept = False
            if accept:
                # Thart new thread with async callback to handle            
        pass

    
    def ask_for_swarm(self, ip, port, swarm_id):
        """
        Start a new connection 

        - Pay invoice 
        - macaroon 
        """
    
    